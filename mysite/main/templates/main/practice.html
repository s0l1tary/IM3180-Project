{% extends "register/base.html" %}
{% load static %}

{% block title %}Practice Â· DeepLearn{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'main/practice.css' %}">
{% endblock %}

{% block content %}
  {% include "main/navbar.html" %}

  <div class="container mt-4">

    {% if not difficulty %}
      {# Landing state: let user pick difficulty #}
      <h1>Sinusoids Practice</h1>
      <p class="text-muted">Pick a difficulty and start practicing.</p>

      <div class="d-flex gap-2 mt-3">
        <a class="btn btn-primary" href="{% url 'practice' %}?difficulty=EASY">Easy</a>
        <a class="btn btn-warning" href="{% url 'practice' %}?difficulty=MEDIUM">Medium</a>
        <a class="btn btn-danger" href="{% url 'practice' %}?difficulty=HARD">Hard</a>
      </div>

    {% else %}
      {# Questions view: styled like quiz cards #}
      <div class="d-flex align-items-center justify-content-between mb-3">
        <h1 class="mb-0">Practice</h1>
        <span class="badge bg-primary">{{ difficulty|title }}</span>
      </div>

      {% for q in questions %}
        <div class="card mb-3">
          <div class="card-body">
            <h5 class="card-title">{{ forloop.counter }}. {{ q.text }}</h5>

            {% for opt in q.options.all %}
              <div class="form-check">
                <input class="form-check-input"
                       type="radio"
                       name="q{{ q.id }}"
                       id="q{{ q.id }}_{{ opt.id }}"
                       value="{{ opt.id }}">
                <label class="form-check-label" for="q{{ q.id }}_{{ opt.id }}">
                  {{ opt.text }}
                </label>
              </div>
            {% endfor %}
          </div>
        </div>
      {% empty %}
        <div class="alert alert-warning">
          No questions found for {{ difficulty|title }}.
        </div>
      {% endfor %}

      <div class="d-flex gap-2">
        <a class="btn btn-outline-secondary" href="{% url 'practice' %}">Change difficulty</a>
        <a class="btn btn-outline-primary" href="{% url 'practice' %}?difficulty={{ difficulty }}">Try another set</a>
      </div>
    {% endif %}

  </div>
{% endblock %}



